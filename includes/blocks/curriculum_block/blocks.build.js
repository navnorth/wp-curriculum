/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/*!***********************!*\
  !*** ./src/blocks.js ***!
  \***********************/
/*! no exports provided */
/*! all exports used */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("Object.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__block_block_js__ = __webpack_require__(/*! ./block/block.js */ 1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__block_block_js___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__block_block_js__);\n/**\n * Gutenberg Blocks\n *\n * All blocks related JavaScript files should be imported here.\n * You can create a new block folder in this dir and include code\n * for that block here as well.\n *\n * All blocks should be included here since this is the file that\n * Webpack is compiling as the input file.\n */\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9ibG9ja3MuanM/N2I1YiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEd1dGVuYmVyZyBCbG9ja3NcbiAqXG4gKiBBbGwgYmxvY2tzIHJlbGF0ZWQgSmF2YVNjcmlwdCBmaWxlcyBzaG91bGQgYmUgaW1wb3J0ZWQgaGVyZS5cbiAqIFlvdSBjYW4gY3JlYXRlIGEgbmV3IGJsb2NrIGZvbGRlciBpbiB0aGlzIGRpciBhbmQgaW5jbHVkZSBjb2RlXG4gKiBmb3IgdGhhdCBibG9jayBoZXJlIGFzIHdlbGwuXG4gKlxuICogQWxsIGJsb2NrcyBzaG91bGQgYmUgaW5jbHVkZWQgaGVyZSBzaW5jZSB0aGlzIGlzIHRoZSBmaWxlIHRoYXRcbiAqIFdlYnBhY2sgaXMgY29tcGlsaW5nIGFzIHRoZSBpbnB1dCBmaWxlLlxuICovXG5cbmltcG9ydCAnLi9ibG9jay9ibG9jay5qcyc7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvYmxvY2tzLmpzXG4vLyBtb2R1bGUgaWQgPSAwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///0\n");

/***/ }),
/* 1 */
/*!****************************!*\
  !*** ./src/block/block.js ***!
  \****************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__editor_scss__ = __webpack_require__(/*! ./editor.scss */ 2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__editor_scss___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__editor_scss__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__style_scss__ = __webpack_require__(/*! ./style.scss */ 3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__style_scss___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__style_scss__);\n/**\n * BLOCK: curriculum-block\n *\n * Registering a basic block with Gutenberg.\n * Simple block, renders and saves the same content without any interactivity.\n */\n\n//  Import CSS.\n\n\n\nvar __ = wp.i18n.__; // Import __() from wp.i18n\n\nvar registerBlockType = wp.blocks.registerBlockType; // Import registerBlockType() from wp.blocks\n\nvar InspectorControls = wp.blockEditor.InspectorControls;\nvar PanelBody = wp.components.PanelBody;\nvar _wp$components = wp.components,\n    CheckboxControl = _wp$components.CheckboxControl,\n    RadioControl = _wp$components.RadioControl,\n    TextControl = _wp$components.TextControl,\n    ToggleControl = _wp$components.ToggleControl,\n    SelectControl = _wp$components.SelectControl;\nvar withSelect = wp.data.withSelect;\n\nvar selcat = [];var selper = 5;var selsrt = 'modified';\nvar parentcatlist = [];\n\n//register custom Rest Endpoint as Entity\nvar dispatch = wp.data.dispatch;\ndispatch('core').addEntities([{\n  name: 'taxquery', // route name\n  kind: 'curriculum/v2', // namespace\n  baseURL: '/curriculum/v2/taxquery' // API path without /wp-json\n}]);\n\nregisterBlockType('cgb/block-curriculum-block', {\n  // Block name. Block names must be string that contains a namespace prefix. Example: my-plugin/my-custom-block.\n  title: __('Curriculum Block'), // Block title.\n  icon: 'welcome-learn-more', // Block icon from Dashicons → https://developer.wordpress.org/resource/dashicons/.\n  description: __('Use this block to add a list of curriculum based on subject'),\n  category: 'common', // Block category — Group blocks together based on common traits E.g. common, formatting, layout widgets, embed.\n  keywords: [__('curriculum-block'), __('CGB Example'), __('create-guten-block')],\n\n  attributes: {\n    blockid: {\n      type: 'string'\n    },\n    curriculums: {\n      type: 'object'\n    },\n    categories: {\n      type: 'object'\n    },\n    selectedCategory: {\n      type: 'string'\n    },\n    postsPerPage: {\n      type: 'string'\n    },\n    sortBy: {\n      type: 'string'\n    }\n\n  },\n\n  edit: function edit(props) {\n    var attributes = props.attributes;\n    var setAttributes = props.setAttributes;\n\n    //SET BLOCK INSTANCE IDS\n    var blocks = wp.data.select('core/block-editor').getBlocks();\n    blocks.map(function (val) {\n      if (val.name == 'cgb/block-curriculum-block') {\n        var uniq = 'cb' + new Date().getTime();\n        var cid = val.clientId;\n        var attr = wp.data.select('core/editor').getBlockAttributes(cid);\n        if (!attr.blockid) {\n          wp.data.dispatch('core/block-editor').updateBlockAttributes(cid, { blockid: uniq, postsPerPage: 5, sortBy: 'modified' });\n        }\n      }\n    });\n\n    // RETURN MESSAGE WHILE CATEGORIES AND CURRICULUMS ARE NOT YET FULLY LOADED\n    if (!attributes.blockid && !attributes.postsPerPage && !attributes.sortBy) {\n      return 'Setting up blocks...';\n    }\n\n    //UPDATE LOCAL VARIABLES\n    var selcat = [];\n    if (typeof attributes.selectedCategory != 'undefined') {\n      var tmp = attributes.selectedCategory.split(',');\n      var ix = tmp.indexOf(\"\");\n      if (ix > -1) {\n        tmp.splice(ix, 1);\n      }\n      tmp.map(function (cat) {\n        selcat.push(parseInt(cat));\n      });\n    }\n\n    if (!attributes.postsPerPage) {\n      setAttributes({ postsPerPage: selper });\n    } else {\n      selper = attributes.postsPerPage;\n    }\n\n    if (!attributes.sortBy) {\n      setAttributes({ sortBy: selsrt }); // non-existent, set fto default\n    } else {\n      selsrt = attributes.sortBy; // existing get data\n    }\n\n    /* SET CATEGORIES ATTRIBUTES */\n    if (!attributes.categories) {\n      wp.apiFetch({ url: '/wp-json/curriculum/v2/catquery' }).then(function (categories) {\n        setAttributes({\n          categories: categories\n        });\n      });\n    }\n\n    // Display while categories attribute is still empty\n    if (!attributes.categories) {\n      return 'Loading categories...';\n    }\n    // Display if categories attributes is not empty but contains blank record\n    if (attributes.categories && attributes.categories.length === 0) {\n      return 'No categories found, please add some!';\n    }\n\n    var cat_arr = [];\n    cat_arr = attributes.categories;\n\n    /* SET CURRICULUM ATTRIBUTES */\n    if (!attributes.curriculums) {\n      var ord = '';\n      selper = attributes.postsPerPage;\n      selsrt = attributes.sortBy;\n      if (selsrt == 'title') {\n        ord = 'asc';\n      } else {\n        ord = 'desc';\n      }\n      if (selcat != '') {\n        wp.apiFetch({ url: '/wp-json/curriculum/v2/taxquery?perpage=' + selper + '&terms=' + selcat + '&orderby=' + selsrt + '&order=' + ord }).then(function (curriculums) {\n          setAttributes({ curriculums: curriculums });\n        });\n      } else {\n        wp.apiFetch({ url: '/wp-json/curriculum/v2/taxquery?terms=0' }).then(function (curriculums) {\n          setAttributes({ curriculums: curriculums });\n        });\n      }\n    }\n\n    // RETURN MESSAGE WHILE CATEGORIES AND CURRICULUMS ARE NOT YET FULLY LOADED\n    if (!attributes.curriculums && attributes.selectedCategory != '') {\n      return 'Loading curriculums...';\n    }\n\n    var cur_arr = [];\n    cur_arr = attributes.curriculums;\n\n    if (!cur_arr && cur_arr.length != 0) {\n      return 'Loading curriculums....';\n    }\n\n    function updateCurriculum() {}\n\n    function onChangeCheckboxField(newValue, index) {\n      if (newValue.target.checked) {\n        selcat.push(newValue.target.getAttribute('data'));\n      } else {\n        var ex = selcat.indexOf(parseInt(newValue.target.getAttribute('data')));\n        if (ex > -1) {\n          selcat.splice(ex, 1);\n        }\n      }\n      setAttributes({\n        selectedCategory: selcat.toString()\n      });\n      selper = attributes.postsPerPage;\n      selsrt = attributes.sortBy;\n\n      var ord = '';\n      if (selsrt == 'title') {\n        ord = 'asc';\n      } else {\n        ord = 'desc';\n      }\n      if (selcat != '') {\n        wp.apiFetch({ url: '/wp-json/curriculum/v2/taxquery?perpage=' + selper + '&terms=' + selcat + '&orderby=' + selsrt + '&order=' + ord }).then(function (curriculums) {\n          setAttributes({ curriculums: curriculums });\n        });\n      } else {\n        wp.apiFetch({ url: '/wp-json/curriculum/v2/taxquery?terms=0' }).then(function (curriculums) {\n          setAttributes({ curriculums: curriculums });\n        });\n      }\n    }\n\n    function updatePostsPerPage(e) {\n      setAttributes({\n        postsPerPage: e.target.value\n      });\n      selper = e.target.value;\n\n      var ord = '';\n      if (selsrt == 'title') {\n        ord = 'asc';\n      } else {\n        ord = 'desc';\n      }\n      if (selcat != '') {\n        wp.apiFetch({ url: '/wp-json/curriculum/v2/taxquery?perpage=' + selper + '&terms=' + selcat + '&orderby=' + selsrt + '&order=' + ord }).then(function (curriculums) {\n          setAttributes({ curriculums: curriculums });\n        });\n      } else {\n        wp.apiFetch({ url: '/wp-json/curriculum/v2/taxquery?terms=0' }).then(function (curriculums) {\n          setAttributes({ curriculums: curriculums });\n        });\n      }\n    }\n\n    function updateSortby(e) {\n      setAttributes({\n        sortBy: e.target.value\n      });\n      selsrt = e.target.value;\n\n      var ord = '';\n      if (selsrt == 'title') {\n        ord = 'asc';\n      } else {\n        ord = 'desc';\n      }\n      if (selcat != '') {\n        wp.apiFetch({ url: '/wp-json/curriculum/v2/taxquery?perpage=' + selper + '&terms=' + selcat + '&orderby=' + selsrt + '&order=' + ord }).then(function (curriculums) {\n          setAttributes({ curriculums: curriculums });\n        });\n      } else {\n        wp.apiFetch({ url: '/wp-json/curriculum/v2/taxquery?terms=0' }).then(function (curriculums) {\n          setAttributes({ curriculums: curriculums });\n        });\n      }\n    }\n\n    var displayOption = [1, 2, 3, 4, 5, 10, 15, 20, 25, 30];\n    var sortOption = { 'date': 'Date Added', 'modified': \"Date Updated\", 'title': 'Title a-z' };\n    var recnt = typeof attributes.curriculums.length == 'undefined' ? 0 : attributes.curriculums.length;\n\n    return wp.element.createElement(\n      'div',\n      null,\n      wp.element.createElement(\n        InspectorControls,\n        null,\n        wp.element.createElement(\n          PanelBody,\n          { title: __('Curriculum Block settings'), initialOpen: true },\n          wp.element.createElement(\n            'div',\n            { 'class': 'lp_inspector_wrapper' },\n            wp.element.createElement(\n              'label',\n              { 'class': 'components-base-control__label', 'for': 'lp_inspector_subject' },\n              'Subjects:'\n            ),\n            wp.element.createElement(\n              'div',\n              { 'class': 'lp_inspector_subject' },\n              cat_arr.map(function (cat, index) {\n                return wp.element.createElement(\n                  'label',\n                  { 'class': 'components-base-control__label ls_inspector_subject_label ' + cat.level },\n                  wp.element.createElement('input', { checked: typeof selcat != 'undefined' && selcat.indexOf(cat.term_id) != -1 ? \"checked\" : \"\", id: 'inspector-checkbox-control-' + index, 'class': 'ls_inspector_subject_checkbox ' + cat.level, type: 'checkbox', data: cat.term_id, parent: cat.parent, onClick: onChangeCheckboxField }),\n                  cat.name\n                );\n              })\n            )\n          ),\n          wp.element.createElement(\n            'div',\n            { 'class': 'lp_inspector_wrapper lp_inspector_Postperpage' },\n            wp.element.createElement(\n              'label',\n              { 'class': 'components-base-control__label', 'for': 'lp_inspector_postperpage_select' },\n              'Posts Per Page:'\n            ),\n            wp.element.createElement(\n              'select',\n              { id: 'lp_inspector_postperpage_select', onChange: updatePostsPerPage, value: selper },\n              displayOption.map(function (incr, index) {\n                if (selper == incr) {\n                  return wp.element.createElement(\n                    'option',\n                    { selected: true, value: incr },\n                    incr\n                  );\n                } else {\n                  return wp.element.createElement(\n                    'option',\n                    { value: incr },\n                    incr\n                  );\n                }\n              })\n            )\n          ),\n          wp.element.createElement(\n            'div',\n            { 'class': 'lp_inspector_wrapper lp_inspector_Postperpage' },\n            wp.element.createElement(\n              'label',\n              { 'class': 'components-base-control__label', 'for': 'lp_inspector_postperpage_select' },\n              'Sort By:'\n            ),\n            wp.element.createElement(\n              'select',\n              { id: 'lp_inspector_sortby_select', onChange: updateSortby, value: selsrt },\n              Object.keys(sortOption).map(function (key) {\n                if (selsrt == key) {\n                  return wp.element.createElement(\n                    'option',\n                    { value: key, checked: true },\n                    sortOption[key]\n                  );\n                } else {\n                  return wp.element.createElement(\n                    'option',\n                    { value: key },\n                    sortOption[key]\n                  );\n                }\n              })\n            )\n          )\n        )\n      ),\n      wp.element.createElement(\n        'div',\n        { 'class': 'lp-cur-blk-main editor' },\n        wp.element.createElement(\n          'div',\n          { 'class': 'lp-cur-blk-topbar' },\n          wp.element.createElement(\n            'div',\n            { 'class': 'lp-cur-blk-topbar-left' },\n            wp.element.createElement(\n              'span',\n              null,\n              'Browse All ',\n              recnt,\n              ' Curriculums'\n            )\n          ),\n          wp.element.createElement(\n            'div',\n            { 'class': 'lp-cur-blk-topbar-right' },\n            wp.element.createElement(\n              'div',\n              { 'class': 'lp-cur-blk-topbar-display-box' },\n              wp.element.createElement(\n                'div',\n                { 'class': 'lp-cur-blk-topbar-display-text' },\n                wp.element.createElement(\n                  'span',\n                  null,\n                  'Show ',\n                  selper\n                ),\n                wp.element.createElement(\n                  'a',\n                  { href: '#' },\n                  wp.element.createElement('i', { 'class': 'fa fa-th-list', 'aria-hidden': 'true' })\n                )\n              ),\n              wp.element.createElement(\n                'ul',\n                { 'class': 'lp-cur-blk-topbar-display-option lp-cur-blk-topbar-option' },\n                displayOption.map(function (incr, index) {\n                  if (selper == incr) {\n                    return wp.element.createElement(\n                      'li',\n                      { 'class': 'selected' },\n                      wp.element.createElement(\n                        'a',\n                        { href: '#', ret: incr },\n                        incr\n                      )\n                    );\n                  } else {\n                    return wp.element.createElement(\n                      'li',\n                      null,\n                      wp.element.createElement(\n                        'a',\n                        { href: '#', ret: incr },\n                        incr\n                      )\n                    );\n                  }\n                })\n              )\n            ),\n            wp.element.createElement(\n              'div',\n              { 'class': 'lp-cur-blk-topbar-sort-box' },\n              wp.element.createElement(\n                'div',\n                { 'class': 'lp-cur-blk-topbar-sort-text' },\n                wp.element.createElement(\n                  'span',\n                  null,\n                  'Sort by: ',\n                  sortOption[selsrt]\n                ),\n                wp.element.createElement(\n                  'a',\n                  { href: '#' },\n                  wp.element.createElement('i', { 'class': 'fa fa-sort', 'aria-hidden': 'true' })\n                )\n              ),\n              wp.element.createElement(\n                'ul',\n                { 'class': 'lp-cur-blk-topbar-sort-option lp-cur-blk-topbar-option' },\n                Object.keys(sortOption).map(function (key) {\n                  if (selsrt == key) {\n                    return wp.element.createElement(\n                      'li',\n                      { 'class': 'selected' },\n                      wp.element.createElement(\n                        'a',\n                        { href: '#', ret: key },\n                        sortOption[key]\n                      )\n                    );\n                  } else {\n                    return wp.element.createElement(\n                      'li',\n                      null,\n                      wp.element.createElement(\n                        'a',\n                        { href: '#', ret: key },\n                        sortOption[key]\n                      )\n                    );\n                  }\n                })\n              )\n            )\n          )\n        ),\n        wp.element.createElement(\n          'div',\n          { id: 'lp_cur_blk_content_wrapper', 'class': 'lp-cur-blk-wrapper' },\n          wp.element.createElement(\n            'div',\n            { id: 'lp-cur-blk-content_drop' },\n            cur_arr.map(function (post, index) {\n              if (attributes.curriculums.length > 0) {\n                var ctnt = post.content.replace(/<[^>]+>/g, '');\n                if (ctnt.length <= 180) {\n                  ctnt = ctnt + '....';\n                } else {\n                  ctnt = ctnt.substr(1, 180) + '...';\n                }\n\n                var grd = 0;var grdtxt = '';\n                if (post.oer_lp_grades != \"\") {\n                  if (post.oer_lp_grades.length > 1) {\n                    grdtxt = 'Grades: ';\n                    grd = post.oer_lp_grades[0] + '-' + post.oer_lp_grades[post.oer_lp_grades.length - 1];\n                  } else {\n                    grdtxt = 'Grade: ';\n                    grd = post.oer_lp_grades;\n                  }\n                } else {\n                  grdtxt = '';\n                  grd = '';\n                }\n\n                return wp.element.createElement(\n                  'div',\n                  { 'class': 'lp-cur-blk-row' },\n                  wp.element.createElement(\n                    'a',\n                    { href: post.link, 'class': 'lp-cur-blk-left', target: '_new' },\n                    wp.element.createElement('img', { src: post.featured_image_url, alt: '' })\n                  ),\n                  wp.element.createElement(\n                    'div',\n                    { 'class': 'lp-cur-blk-right' },\n                    wp.element.createElement(\n                      'div',\n                      { 'class': 'ttl' },\n                      wp.element.createElement(\n                        'a',\n                        { href: post.link, target: '_new' },\n                        post.title\n                      )\n                    ),\n                    wp.element.createElement(\n                      'div',\n                      { 'class': 'lp-cur-postmeta' },\n                      wp.element.createElement(\n                        'span',\n                        { 'class': 'lp-cur-postmeta-grades' },\n                        wp.element.createElement(\n                          'strong',\n                          null,\n                          grdtxt\n                        ),\n                        grd\n                      )\n                    ),\n                    wp.element.createElement(\n                      'div',\n                      { 'class': 'desc' },\n                      ctnt\n                    ),\n                    wp.element.createElement(\n                      'div',\n                      { 'class': 'lp-cur-tags tagcloud' },\n                      post.tagsv2.map(function (posttags, index) {\n                        var tgar = posttags.split('|');\n                        return wp.element.createElement(\n                          'span',\n                          null,\n                          wp.element.createElement(\n                            'a',\n                            { href: cgbGlobal['base_url'] + '/tag/' + tgar[1], alt: '', 'class': 'button', target: '_new' },\n                            tgar[0]\n                          )\n                        );\n                      })\n                    )\n                  )\n                );\n              }\n            })\n          )\n        )\n      )\n    );\n  },\n\n  save: function save(props) {\n    return null;\n  }\n\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9ibG9jay9ibG9jay5qcz85MjFkIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQkxPQ0s6IGN1cnJpY3VsdW0tYmxvY2tcbiAqXG4gKiBSZWdpc3RlcmluZyBhIGJhc2ljIGJsb2NrIHdpdGggR3V0ZW5iZXJnLlxuICogU2ltcGxlIGJsb2NrLCByZW5kZXJzIGFuZCBzYXZlcyB0aGUgc2FtZSBjb250ZW50IHdpdGhvdXQgYW55IGludGVyYWN0aXZpdHkuXG4gKi9cblxuLy8gIEltcG9ydCBDU1MuXG5pbXBvcnQgJy4vZWRpdG9yLnNjc3MnO1xuaW1wb3J0ICcuL3N0eWxlLnNjc3MnO1xuXG52YXIgX18gPSB3cC5pMThuLl9fOyAvLyBJbXBvcnQgX18oKSBmcm9tIHdwLmkxOG5cblxudmFyIHJlZ2lzdGVyQmxvY2tUeXBlID0gd3AuYmxvY2tzLnJlZ2lzdGVyQmxvY2tUeXBlOyAvLyBJbXBvcnQgcmVnaXN0ZXJCbG9ja1R5cGUoKSBmcm9tIHdwLmJsb2Nrc1xuXG52YXIgSW5zcGVjdG9yQ29udHJvbHMgPSB3cC5ibG9ja0VkaXRvci5JbnNwZWN0b3JDb250cm9scztcbnZhciBQYW5lbEJvZHkgPSB3cC5jb21wb25lbnRzLlBhbmVsQm9keTtcbnZhciBfd3AkY29tcG9uZW50cyA9IHdwLmNvbXBvbmVudHMsXG4gICAgQ2hlY2tib3hDb250cm9sID0gX3dwJGNvbXBvbmVudHMuQ2hlY2tib3hDb250cm9sLFxuICAgIFJhZGlvQ29udHJvbCA9IF93cCRjb21wb25lbnRzLlJhZGlvQ29udHJvbCxcbiAgICBUZXh0Q29udHJvbCA9IF93cCRjb21wb25lbnRzLlRleHRDb250cm9sLFxuICAgIFRvZ2dsZUNvbnRyb2wgPSBfd3AkY29tcG9uZW50cy5Ub2dnbGVDb250cm9sLFxuICAgIFNlbGVjdENvbnRyb2wgPSBfd3AkY29tcG9uZW50cy5TZWxlY3RDb250cm9sO1xudmFyIHdpdGhTZWxlY3QgPSB3cC5kYXRhLndpdGhTZWxlY3Q7XG5cbnZhciBzZWxjYXQgPSBbXTt2YXIgc2VscGVyID0gNTt2YXIgc2Vsc3J0ID0gJ21vZGlmaWVkJztcbnZhciBwYXJlbnRjYXRsaXN0ID0gW107XG5cbi8vcmVnaXN0ZXIgY3VzdG9tIFJlc3QgRW5kcG9pbnQgYXMgRW50aXR5XG52YXIgZGlzcGF0Y2ggPSB3cC5kYXRhLmRpc3BhdGNoO1xuZGlzcGF0Y2goJ2NvcmUnKS5hZGRFbnRpdGllcyhbe1xuICBuYW1lOiAndGF4cXVlcnknLCAvLyByb3V0ZSBuYW1lXG4gIGtpbmQ6ICdjdXJyaWN1bHVtL3YyJywgLy8gbmFtZXNwYWNlXG4gIGJhc2VVUkw6ICcvY3VycmljdWx1bS92Mi90YXhxdWVyeScgLy8gQVBJIHBhdGggd2l0aG91dCAvd3AtanNvblxufV0pO1xuXG5yZWdpc3RlckJsb2NrVHlwZSgnY2diL2Jsb2NrLWN1cnJpY3VsdW0tYmxvY2snLCB7XG4gIC8vIEJsb2NrIG5hbWUuIEJsb2NrIG5hbWVzIG11c3QgYmUgc3RyaW5nIHRoYXQgY29udGFpbnMgYSBuYW1lc3BhY2UgcHJlZml4LiBFeGFtcGxlOiBteS1wbHVnaW4vbXktY3VzdG9tLWJsb2NrLlxuICB0aXRsZTogX18oJ0N1cnJpY3VsdW0gQmxvY2snKSwgLy8gQmxvY2sgdGl0bGUuXG4gIGljb246ICd3ZWxjb21lLWxlYXJuLW1vcmUnLCAvLyBCbG9jayBpY29uIGZyb20gRGFzaGljb25zIOKGkiBodHRwczovL2RldmVsb3Blci53b3JkcHJlc3Mub3JnL3Jlc291cmNlL2Rhc2hpY29ucy8uXG4gIGRlc2NyaXB0aW9uOiBfXygnVXNlIHRoaXMgYmxvY2sgdG8gYWRkIGEgbGlzdCBvZiBjdXJyaWN1bHVtIGJhc2VkIG9uIHN1YmplY3QnKSxcbiAgY2F0ZWdvcnk6ICdjb21tb24nLCAvLyBCbG9jayBjYXRlZ29yeSDigJQgR3JvdXAgYmxvY2tzIHRvZ2V0aGVyIGJhc2VkIG9uIGNvbW1vbiB0cmFpdHMgRS5nLiBjb21tb24sIGZvcm1hdHRpbmcsIGxheW91dCB3aWRnZXRzLCBlbWJlZC5cbiAga2V5d29yZHM6IFtfXygnY3VycmljdWx1bS1ibG9jaycpLCBfXygnQ0dCIEV4YW1wbGUnKSwgX18oJ2NyZWF0ZS1ndXRlbi1ibG9jaycpXSxcblxuICBhdHRyaWJ1dGVzOiB7XG4gICAgYmxvY2tpZDoge1xuICAgICAgdHlwZTogJ3N0cmluZydcbiAgICB9LFxuICAgIGN1cnJpY3VsdW1zOiB7XG4gICAgICB0eXBlOiAnb2JqZWN0J1xuICAgIH0sXG4gICAgY2F0ZWdvcmllczoge1xuICAgICAgdHlwZTogJ29iamVjdCdcbiAgICB9LFxuICAgIHNlbGVjdGVkQ2F0ZWdvcnk6IHtcbiAgICAgIHR5cGU6ICdzdHJpbmcnXG4gICAgfSxcbiAgICBwb3N0c1BlclBhZ2U6IHtcbiAgICAgIHR5cGU6ICdzdHJpbmcnXG4gICAgfSxcbiAgICBzb3J0Qnk6IHtcbiAgICAgIHR5cGU6ICdzdHJpbmcnXG4gICAgfVxuXG4gIH0sXG5cbiAgZWRpdDogZnVuY3Rpb24gZWRpdChwcm9wcykge1xuICAgIHZhciBhdHRyaWJ1dGVzID0gcHJvcHMuYXR0cmlidXRlcztcbiAgICB2YXIgc2V0QXR0cmlidXRlcyA9IHByb3BzLnNldEF0dHJpYnV0ZXM7XG5cbiAgICAvL1NFVCBCTE9DSyBJTlNUQU5DRSBJRFNcbiAgICB2YXIgYmxvY2tzID0gd3AuZGF0YS5zZWxlY3QoJ2NvcmUvYmxvY2stZWRpdG9yJykuZ2V0QmxvY2tzKCk7XG4gICAgYmxvY2tzLm1hcChmdW5jdGlvbiAodmFsKSB7XG4gICAgICBpZiAodmFsLm5hbWUgPT0gJ2NnYi9ibG9jay1jdXJyaWN1bHVtLWJsb2NrJykge1xuICAgICAgICB2YXIgdW5pcSA9ICdjYicgKyBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgICAgdmFyIGNpZCA9IHZhbC5jbGllbnRJZDtcbiAgICAgICAgdmFyIGF0dHIgPSB3cC5kYXRhLnNlbGVjdCgnY29yZS9lZGl0b3InKS5nZXRCbG9ja0F0dHJpYnV0ZXMoY2lkKTtcbiAgICAgICAgaWYgKCFhdHRyLmJsb2NraWQpIHtcbiAgICAgICAgICB3cC5kYXRhLmRpc3BhdGNoKCdjb3JlL2Jsb2NrLWVkaXRvcicpLnVwZGF0ZUJsb2NrQXR0cmlidXRlcyhjaWQsIHsgYmxvY2tpZDogdW5pcSwgcG9zdHNQZXJQYWdlOiA1LCBzb3J0Qnk6ICdtb2RpZmllZCcgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIFJFVFVSTiBNRVNTQUdFIFdISUxFIENBVEVHT1JJRVMgQU5EIENVUlJJQ1VMVU1TIEFSRSBOT1QgWUVUIEZVTExZIExPQURFRFxuICAgIGlmICghYXR0cmlidXRlcy5ibG9ja2lkICYmICFhdHRyaWJ1dGVzLnBvc3RzUGVyUGFnZSAmJiAhYXR0cmlidXRlcy5zb3J0QnkpIHtcbiAgICAgIHJldHVybiAnU2V0dGluZyB1cCBibG9ja3MuLi4nO1xuICAgIH1cblxuICAgIC8vVVBEQVRFIExPQ0FMIFZBUklBQkxFU1xuICAgIHZhciBzZWxjYXQgPSBbXTtcbiAgICBpZiAodHlwZW9mIGF0dHJpYnV0ZXMuc2VsZWN0ZWRDYXRlZ29yeSAhPSAndW5kZWZpbmVkJykge1xuICAgICAgdmFyIHRtcCA9IGF0dHJpYnV0ZXMuc2VsZWN0ZWRDYXRlZ29yeS5zcGxpdCgnLCcpO1xuICAgICAgdmFyIGl4ID0gdG1wLmluZGV4T2YoXCJcIik7XG4gICAgICBpZiAoaXggPiAtMSkge1xuICAgICAgICB0bXAuc3BsaWNlKGl4LCAxKTtcbiAgICAgIH1cbiAgICAgIHRtcC5tYXAoZnVuY3Rpb24gKGNhdCkge1xuICAgICAgICBzZWxjYXQucHVzaChwYXJzZUludChjYXQpKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmICghYXR0cmlidXRlcy5wb3N0c1BlclBhZ2UpIHtcbiAgICAgIHNldEF0dHJpYnV0ZXMoeyBwb3N0c1BlclBhZ2U6IHNlbHBlciB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2VscGVyID0gYXR0cmlidXRlcy5wb3N0c1BlclBhZ2U7XG4gICAgfVxuXG4gICAgaWYgKCFhdHRyaWJ1dGVzLnNvcnRCeSkge1xuICAgICAgc2V0QXR0cmlidXRlcyh7IHNvcnRCeTogc2Vsc3J0IH0pOyAvLyBub24tZXhpc3RlbnQsIHNldCBmdG8gZGVmYXVsdFxuICAgIH0gZWxzZSB7XG4gICAgICBzZWxzcnQgPSBhdHRyaWJ1dGVzLnNvcnRCeTsgLy8gZXhpc3RpbmcgZ2V0IGRhdGFcbiAgICB9XG5cbiAgICAvKiBTRVQgQ0FURUdPUklFUyBBVFRSSUJVVEVTICovXG4gICAgaWYgKCFhdHRyaWJ1dGVzLmNhdGVnb3JpZXMpIHtcbiAgICAgIHdwLmFwaUZldGNoKHsgdXJsOiAnL3dwLWpzb24vY3VycmljdWx1bS92Mi9jYXRxdWVyeScgfSkudGhlbihmdW5jdGlvbiAoY2F0ZWdvcmllcykge1xuICAgICAgICBzZXRBdHRyaWJ1dGVzKHtcbiAgICAgICAgICBjYXRlZ29yaWVzOiBjYXRlZ29yaWVzXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gRGlzcGxheSB3aGlsZSBjYXRlZ29yaWVzIGF0dHJpYnV0ZSBpcyBzdGlsbCBlbXB0eVxuICAgIGlmICghYXR0cmlidXRlcy5jYXRlZ29yaWVzKSB7XG4gICAgICByZXR1cm4gJ0xvYWRpbmcgY2F0ZWdvcmllcy4uLic7XG4gICAgfVxuICAgIC8vIERpc3BsYXkgaWYgY2F0ZWdvcmllcyBhdHRyaWJ1dGVzIGlzIG5vdCBlbXB0eSBidXQgY29udGFpbnMgYmxhbmsgcmVjb3JkXG4gICAgaWYgKGF0dHJpYnV0ZXMuY2F0ZWdvcmllcyAmJiBhdHRyaWJ1dGVzLmNhdGVnb3JpZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gJ05vIGNhdGVnb3JpZXMgZm91bmQsIHBsZWFzZSBhZGQgc29tZSEnO1xuICAgIH1cblxuICAgIHZhciBjYXRfYXJyID0gW107XG4gICAgY2F0X2FyciA9IGF0dHJpYnV0ZXMuY2F0ZWdvcmllcztcblxuICAgIC8qIFNFVCBDVVJSSUNVTFVNIEFUVFJJQlVURVMgKi9cbiAgICBpZiAoIWF0dHJpYnV0ZXMuY3VycmljdWx1bXMpIHtcbiAgICAgIHZhciBvcmQgPSAnJztcbiAgICAgIHNlbHBlciA9IGF0dHJpYnV0ZXMucG9zdHNQZXJQYWdlO1xuICAgICAgc2Vsc3J0ID0gYXR0cmlidXRlcy5zb3J0Qnk7XG4gICAgICBpZiAoc2Vsc3J0ID09ICd0aXRsZScpIHtcbiAgICAgICAgb3JkID0gJ2FzYyc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvcmQgPSAnZGVzYyc7XG4gICAgICB9XG4gICAgICBpZiAoc2VsY2F0ICE9ICcnKSB7XG4gICAgICAgIHdwLmFwaUZldGNoKHsgdXJsOiAnL3dwLWpzb24vY3VycmljdWx1bS92Mi90YXhxdWVyeT9wZXJwYWdlPScgKyBzZWxwZXIgKyAnJnRlcm1zPScgKyBzZWxjYXQgKyAnJm9yZGVyYnk9JyArIHNlbHNydCArICcmb3JkZXI9JyArIG9yZCB9KS50aGVuKGZ1bmN0aW9uIChjdXJyaWN1bHVtcykge1xuICAgICAgICAgIHNldEF0dHJpYnV0ZXMoeyBjdXJyaWN1bHVtczogY3VycmljdWx1bXMgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd3AuYXBpRmV0Y2goeyB1cmw6ICcvd3AtanNvbi9jdXJyaWN1bHVtL3YyL3RheHF1ZXJ5P3Rlcm1zPTAnIH0pLnRoZW4oZnVuY3Rpb24gKGN1cnJpY3VsdW1zKSB7XG4gICAgICAgICAgc2V0QXR0cmlidXRlcyh7IGN1cnJpY3VsdW1zOiBjdXJyaWN1bHVtcyB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gUkVUVVJOIE1FU1NBR0UgV0hJTEUgQ0FURUdPUklFUyBBTkQgQ1VSUklDVUxVTVMgQVJFIE5PVCBZRVQgRlVMTFkgTE9BREVEXG4gICAgaWYgKCFhdHRyaWJ1dGVzLmN1cnJpY3VsdW1zICYmIGF0dHJpYnV0ZXMuc2VsZWN0ZWRDYXRlZ29yeSAhPSAnJykge1xuICAgICAgcmV0dXJuICdMb2FkaW5nIGN1cnJpY3VsdW1zLi4uJztcbiAgICB9XG5cbiAgICB2YXIgY3VyX2FyciA9IFtdO1xuICAgIGN1cl9hcnIgPSBhdHRyaWJ1dGVzLmN1cnJpY3VsdW1zO1xuXG4gICAgaWYgKCFjdXJfYXJyICYmIGN1cl9hcnIubGVuZ3RoICE9IDApIHtcbiAgICAgIHJldHVybiAnTG9hZGluZyBjdXJyaWN1bHVtcy4uLi4nO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHVwZGF0ZUN1cnJpY3VsdW0oKSB7fVxuXG4gICAgZnVuY3Rpb24gb25DaGFuZ2VDaGVja2JveEZpZWxkKG5ld1ZhbHVlLCBpbmRleCkge1xuICAgICAgaWYgKG5ld1ZhbHVlLnRhcmdldC5jaGVja2VkKSB7XG4gICAgICAgIHNlbGNhdC5wdXNoKG5ld1ZhbHVlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEnKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgZXggPSBzZWxjYXQuaW5kZXhPZihwYXJzZUludChuZXdWYWx1ZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhJykpKTtcbiAgICAgICAgaWYgKGV4ID4gLTEpIHtcbiAgICAgICAgICBzZWxjYXQuc3BsaWNlKGV4LCAxKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgc2V0QXR0cmlidXRlcyh7XG4gICAgICAgIHNlbGVjdGVkQ2F0ZWdvcnk6IHNlbGNhdC50b1N0cmluZygpXG4gICAgICB9KTtcbiAgICAgIHNlbHBlciA9IGF0dHJpYnV0ZXMucG9zdHNQZXJQYWdlO1xuICAgICAgc2Vsc3J0ID0gYXR0cmlidXRlcy5zb3J0Qnk7XG5cbiAgICAgIHZhciBvcmQgPSAnJztcbiAgICAgIGlmIChzZWxzcnQgPT0gJ3RpdGxlJykge1xuICAgICAgICBvcmQgPSAnYXNjJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9yZCA9ICdkZXNjJztcbiAgICAgIH1cbiAgICAgIGlmIChzZWxjYXQgIT0gJycpIHtcbiAgICAgICAgd3AuYXBpRmV0Y2goeyB1cmw6ICcvd3AtanNvbi9jdXJyaWN1bHVtL3YyL3RheHF1ZXJ5P3BlcnBhZ2U9JyArIHNlbHBlciArICcmdGVybXM9JyArIHNlbGNhdCArICcmb3JkZXJieT0nICsgc2Vsc3J0ICsgJyZvcmRlcj0nICsgb3JkIH0pLnRoZW4oZnVuY3Rpb24gKGN1cnJpY3VsdW1zKSB7XG4gICAgICAgICAgc2V0QXR0cmlidXRlcyh7IGN1cnJpY3VsdW1zOiBjdXJyaWN1bHVtcyB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3cC5hcGlGZXRjaCh7IHVybDogJy93cC1qc29uL2N1cnJpY3VsdW0vdjIvdGF4cXVlcnk/dGVybXM9MCcgfSkudGhlbihmdW5jdGlvbiAoY3VycmljdWx1bXMpIHtcbiAgICAgICAgICBzZXRBdHRyaWJ1dGVzKHsgY3VycmljdWx1bXM6IGN1cnJpY3VsdW1zIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiB1cGRhdGVQb3N0c1BlclBhZ2UoZSkge1xuICAgICAgc2V0QXR0cmlidXRlcyh7XG4gICAgICAgIHBvc3RzUGVyUGFnZTogZS50YXJnZXQudmFsdWVcbiAgICAgIH0pO1xuICAgICAgc2VscGVyID0gZS50YXJnZXQudmFsdWU7XG5cbiAgICAgIHZhciBvcmQgPSAnJztcbiAgICAgIGlmIChzZWxzcnQgPT0gJ3RpdGxlJykge1xuICAgICAgICBvcmQgPSAnYXNjJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9yZCA9ICdkZXNjJztcbiAgICAgIH1cbiAgICAgIGlmIChzZWxjYXQgIT0gJycpIHtcbiAgICAgICAgd3AuYXBpRmV0Y2goeyB1cmw6ICcvd3AtanNvbi9jdXJyaWN1bHVtL3YyL3RheHF1ZXJ5P3BlcnBhZ2U9JyArIHNlbHBlciArICcmdGVybXM9JyArIHNlbGNhdCArICcmb3JkZXJieT0nICsgc2Vsc3J0ICsgJyZvcmRlcj0nICsgb3JkIH0pLnRoZW4oZnVuY3Rpb24gKGN1cnJpY3VsdW1zKSB7XG4gICAgICAgICAgc2V0QXR0cmlidXRlcyh7IGN1cnJpY3VsdW1zOiBjdXJyaWN1bHVtcyB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3cC5hcGlGZXRjaCh7IHVybDogJy93cC1qc29uL2N1cnJpY3VsdW0vdjIvdGF4cXVlcnk/dGVybXM9MCcgfSkudGhlbihmdW5jdGlvbiAoY3VycmljdWx1bXMpIHtcbiAgICAgICAgICBzZXRBdHRyaWJ1dGVzKHsgY3VycmljdWx1bXM6IGN1cnJpY3VsdW1zIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiB1cGRhdGVTb3J0YnkoZSkge1xuICAgICAgc2V0QXR0cmlidXRlcyh7XG4gICAgICAgIHNvcnRCeTogZS50YXJnZXQudmFsdWVcbiAgICAgIH0pO1xuICAgICAgc2Vsc3J0ID0gZS50YXJnZXQudmFsdWU7XG5cbiAgICAgIHZhciBvcmQgPSAnJztcbiAgICAgIGlmIChzZWxzcnQgPT0gJ3RpdGxlJykge1xuICAgICAgICBvcmQgPSAnYXNjJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9yZCA9ICdkZXNjJztcbiAgICAgIH1cbiAgICAgIGlmIChzZWxjYXQgIT0gJycpIHtcbiAgICAgICAgd3AuYXBpRmV0Y2goeyB1cmw6ICcvd3AtanNvbi9jdXJyaWN1bHVtL3YyL3RheHF1ZXJ5P3BlcnBhZ2U9JyArIHNlbHBlciArICcmdGVybXM9JyArIHNlbGNhdCArICcmb3JkZXJieT0nICsgc2Vsc3J0ICsgJyZvcmRlcj0nICsgb3JkIH0pLnRoZW4oZnVuY3Rpb24gKGN1cnJpY3VsdW1zKSB7XG4gICAgICAgICAgc2V0QXR0cmlidXRlcyh7IGN1cnJpY3VsdW1zOiBjdXJyaWN1bHVtcyB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3cC5hcGlGZXRjaCh7IHVybDogJy93cC1qc29uL2N1cnJpY3VsdW0vdjIvdGF4cXVlcnk/dGVybXM9MCcgfSkudGhlbihmdW5jdGlvbiAoY3VycmljdWx1bXMpIHtcbiAgICAgICAgICBzZXRBdHRyaWJ1dGVzKHsgY3VycmljdWx1bXM6IGN1cnJpY3VsdW1zIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgZGlzcGxheU9wdGlvbiA9IFsxLCAyLCAzLCA0LCA1LCAxMCwgMTUsIDIwLCAyNSwgMzBdO1xuICAgIHZhciBzb3J0T3B0aW9uID0geyAnZGF0ZSc6ICdEYXRlIEFkZGVkJywgJ21vZGlmaWVkJzogXCJEYXRlIFVwZGF0ZWRcIiwgJ3RpdGxlJzogJ1RpdGxlIGEteicgfTtcbiAgICB2YXIgcmVjbnQgPSB0eXBlb2YgYXR0cmlidXRlcy5jdXJyaWN1bHVtcy5sZW5ndGggPT0gJ3VuZGVmaW5lZCcgPyAwIDogYXR0cmlidXRlcy5jdXJyaWN1bHVtcy5sZW5ndGg7XG5cbiAgICByZXR1cm4gd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFxuICAgICAgJ2RpdicsXG4gICAgICBudWxsLFxuICAgICAgd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFxuICAgICAgICBJbnNwZWN0b3JDb250cm9scyxcbiAgICAgICAgbnVsbCxcbiAgICAgICAgd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgIFBhbmVsQm9keSxcbiAgICAgICAgICB7IHRpdGxlOiBfXygnQ3VycmljdWx1bSBCbG9jayBzZXR0aW5ncycpLCBpbml0aWFsT3BlbjogdHJ1ZSB9LFxuICAgICAgICAgIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgeyAnY2xhc3MnOiAnbHBfaW5zcGVjdG9yX3dyYXBwZXInIH0sXG4gICAgICAgICAgICB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICdsYWJlbCcsXG4gICAgICAgICAgICAgIHsgJ2NsYXNzJzogJ2NvbXBvbmVudHMtYmFzZS1jb250cm9sX19sYWJlbCcsICdmb3InOiAnbHBfaW5zcGVjdG9yX3N1YmplY3QnIH0sXG4gICAgICAgICAgICAgICdTdWJqZWN0czonXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgeyAnY2xhc3MnOiAnbHBfaW5zcGVjdG9yX3N1YmplY3QnIH0sXG4gICAgICAgICAgICAgIGNhdF9hcnIubWFwKGZ1bmN0aW9uIChjYXQsIGluZGV4KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICdsYWJlbCcsXG4gICAgICAgICAgICAgICAgICB7ICdjbGFzcyc6ICdjb21wb25lbnRzLWJhc2UtY29udHJvbF9fbGFiZWwgbHNfaW5zcGVjdG9yX3N1YmplY3RfbGFiZWwgJyArIGNhdC5sZXZlbCB9LFxuICAgICAgICAgICAgICAgICAgd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcsIHsgY2hlY2tlZDogdHlwZW9mIHNlbGNhdCAhPSAndW5kZWZpbmVkJyAmJiBzZWxjYXQuaW5kZXhPZihjYXQudGVybV9pZCkgIT0gLTEgPyBcImNoZWNrZWRcIiA6IFwiXCIsIGlkOiAnaW5zcGVjdG9yLWNoZWNrYm94LWNvbnRyb2wtJyArIGluZGV4LCAnY2xhc3MnOiAnbHNfaW5zcGVjdG9yX3N1YmplY3RfY2hlY2tib3ggJyArIGNhdC5sZXZlbCwgdHlwZTogJ2NoZWNrYm94JywgZGF0YTogY2F0LnRlcm1faWQsIHBhcmVudDogY2F0LnBhcmVudCwgb25DbGljazogb25DaGFuZ2VDaGVja2JveEZpZWxkIH0pLFxuICAgICAgICAgICAgICAgICAgY2F0Lm5hbWVcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgKVxuICAgICAgICAgICksXG4gICAgICAgICAgd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICB7ICdjbGFzcyc6ICdscF9pbnNwZWN0b3Jfd3JhcHBlciBscF9pbnNwZWN0b3JfUG9zdHBlcnBhZ2UnIH0sXG4gICAgICAgICAgICB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICdsYWJlbCcsXG4gICAgICAgICAgICAgIHsgJ2NsYXNzJzogJ2NvbXBvbmVudHMtYmFzZS1jb250cm9sX19sYWJlbCcsICdmb3InOiAnbHBfaW5zcGVjdG9yX3Bvc3RwZXJwYWdlX3NlbGVjdCcgfSxcbiAgICAgICAgICAgICAgJ1Bvc3RzIFBlciBQYWdlOidcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICdzZWxlY3QnLFxuICAgICAgICAgICAgICB7IGlkOiAnbHBfaW5zcGVjdG9yX3Bvc3RwZXJwYWdlX3NlbGVjdCcsIG9uQ2hhbmdlOiB1cGRhdGVQb3N0c1BlclBhZ2UsIHZhbHVlOiBzZWxwZXIgfSxcbiAgICAgICAgICAgICAgZGlzcGxheU9wdGlvbi5tYXAoZnVuY3Rpb24gKGluY3IsIGluZGV4KSB7XG4gICAgICAgICAgICAgICAgaWYgKHNlbHBlciA9PSBpbmNyKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAnb3B0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgeyBzZWxlY3RlZDogdHJ1ZSwgdmFsdWU6IGluY3IgfSxcbiAgICAgICAgICAgICAgICAgICAgaW5jclxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgJ29wdGlvbicsXG4gICAgICAgICAgICAgICAgICAgIHsgdmFsdWU6IGluY3IgfSxcbiAgICAgICAgICAgICAgICAgICAgaW5jclxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApXG4gICAgICAgICAgKSxcbiAgICAgICAgICB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgIHsgJ2NsYXNzJzogJ2xwX2luc3BlY3Rvcl93cmFwcGVyIGxwX2luc3BlY3Rvcl9Qb3N0cGVycGFnZScgfSxcbiAgICAgICAgICAgIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgJ2xhYmVsJyxcbiAgICAgICAgICAgICAgeyAnY2xhc3MnOiAnY29tcG9uZW50cy1iYXNlLWNvbnRyb2xfX2xhYmVsJywgJ2Zvcic6ICdscF9pbnNwZWN0b3JfcG9zdHBlcnBhZ2Vfc2VsZWN0JyB9LFxuICAgICAgICAgICAgICAnU29ydCBCeTonXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAnc2VsZWN0JyxcbiAgICAgICAgICAgICAgeyBpZDogJ2xwX2luc3BlY3Rvcl9zb3J0Ynlfc2VsZWN0Jywgb25DaGFuZ2U6IHVwZGF0ZVNvcnRieSwgdmFsdWU6IHNlbHNydCB9LFxuICAgICAgICAgICAgICBPYmplY3Qua2V5cyhzb3J0T3B0aW9uKS5tYXAoZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgICAgIGlmIChzZWxzcnQgPT0ga2V5KSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAnb3B0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgeyB2YWx1ZToga2V5LCBjaGVja2VkOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgICAgIHNvcnRPcHRpb25ba2V5XVxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgJ29wdGlvbicsXG4gICAgICAgICAgICAgICAgICAgIHsgdmFsdWU6IGtleSB9LFxuICAgICAgICAgICAgICAgICAgICBzb3J0T3B0aW9uW2tleV1cbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgKVxuICAgICAgICAgIClcbiAgICAgICAgKVxuICAgICAgKSxcbiAgICAgIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIHsgJ2NsYXNzJzogJ2xwLWN1ci1ibGstbWFpbiBlZGl0b3InIH0sXG4gICAgICAgIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICB7ICdjbGFzcyc6ICdscC1jdXItYmxrLXRvcGJhcicgfSxcbiAgICAgICAgICB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgIHsgJ2NsYXNzJzogJ2xwLWN1ci1ibGstdG9wYmFyLWxlZnQnIH0sXG4gICAgICAgICAgICB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgJ0Jyb3dzZSBBbGwgJyxcbiAgICAgICAgICAgICAgcmVjbnQsXG4gICAgICAgICAgICAgICcgQ3VycmljdWx1bXMnXG4gICAgICAgICAgICApXG4gICAgICAgICAgKSxcbiAgICAgICAgICB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgIHsgJ2NsYXNzJzogJ2xwLWN1ci1ibGstdG9wYmFyLXJpZ2h0JyB9LFxuICAgICAgICAgICAgd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgeyAnY2xhc3MnOiAnbHAtY3VyLWJsay10b3BiYXItZGlzcGxheS1ib3gnIH0sXG4gICAgICAgICAgICAgIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICB7ICdjbGFzcyc6ICdscC1jdXItYmxrLXRvcGJhci1kaXNwbGF5LXRleHQnIH0sXG4gICAgICAgICAgICAgICAgd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICdTaG93ICcsXG4gICAgICAgICAgICAgICAgICBzZWxwZXJcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICdhJyxcbiAgICAgICAgICAgICAgICAgIHsgaHJlZjogJyMnIH0sXG4gICAgICAgICAgICAgICAgICB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoJ2knLCB7ICdjbGFzcyc6ICdmYSBmYS10aC1saXN0JywgJ2FyaWEtaGlkZGVuJzogJ3RydWUnIH0pXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgJ3VsJyxcbiAgICAgICAgICAgICAgICB7ICdjbGFzcyc6ICdscC1jdXItYmxrLXRvcGJhci1kaXNwbGF5LW9wdGlvbiBscC1jdXItYmxrLXRvcGJhci1vcHRpb24nIH0sXG4gICAgICAgICAgICAgICAgZGlzcGxheU9wdGlvbi5tYXAoZnVuY3Rpb24gKGluY3IsIGluZGV4KSB7XG4gICAgICAgICAgICAgICAgICBpZiAoc2VscGVyID09IGluY3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAnbGknLFxuICAgICAgICAgICAgICAgICAgICAgIHsgJ2NsYXNzJzogJ3NlbGVjdGVkJyB9LFxuICAgICAgICAgICAgICAgICAgICAgIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICdhJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgaHJlZjogJyMnLCByZXQ6IGluY3IgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluY3JcbiAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICdsaScsXG4gICAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAnYScsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGhyZWY6ICcjJywgcmV0OiBpbmNyIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNyXG4gICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICB7ICdjbGFzcyc6ICdscC1jdXItYmxrLXRvcGJhci1zb3J0LWJveCcgfSxcbiAgICAgICAgICAgICAgd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgIHsgJ2NsYXNzJzogJ2xwLWN1ci1ibGstdG9wYmFyLXNvcnQtdGV4dCcgfSxcbiAgICAgICAgICAgICAgICB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgJ1NvcnQgYnk6ICcsXG4gICAgICAgICAgICAgICAgICBzb3J0T3B0aW9uW3NlbHNydF1cbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICdhJyxcbiAgICAgICAgICAgICAgICAgIHsgaHJlZjogJyMnIH0sXG4gICAgICAgICAgICAgICAgICB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoJ2knLCB7ICdjbGFzcyc6ICdmYSBmYS1zb3J0JywgJ2FyaWEtaGlkZGVuJzogJ3RydWUnIH0pXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgJ3VsJyxcbiAgICAgICAgICAgICAgICB7ICdjbGFzcyc6ICdscC1jdXItYmxrLXRvcGJhci1zb3J0LW9wdGlvbiBscC1jdXItYmxrLXRvcGJhci1vcHRpb24nIH0sXG4gICAgICAgICAgICAgICAgT2JqZWN0LmtleXMoc29ydE9wdGlvbikubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgICAgICAgIGlmIChzZWxzcnQgPT0ga2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgJ2xpJyxcbiAgICAgICAgICAgICAgICAgICAgICB7ICdjbGFzcyc6ICdzZWxlY3RlZCcgfSxcbiAgICAgICAgICAgICAgICAgICAgICB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAnYScsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGhyZWY6ICcjJywgcmV0OiBrZXkgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvcnRPcHRpb25ba2V5XVxuICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgJ2xpJyxcbiAgICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICdhJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgaHJlZjogJyMnLCByZXQ6IGtleSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgc29ydE9wdGlvbltrZXldXG4gICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIClcbiAgICAgICAgICApXG4gICAgICAgICksXG4gICAgICAgIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICB7IGlkOiAnbHBfY3VyX2Jsa19jb250ZW50X3dyYXBwZXInLCAnY2xhc3MnOiAnbHAtY3VyLWJsay13cmFwcGVyJyB9LFxuICAgICAgICAgIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgeyBpZDogJ2xwLWN1ci1ibGstY29udGVudF9kcm9wJyB9LFxuICAgICAgICAgICAgY3VyX2Fyci5tYXAoZnVuY3Rpb24gKHBvc3QsIGluZGV4KSB7XG4gICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGVzLmN1cnJpY3VsdW1zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICB2YXIgY3RudCA9IHBvc3QuY29udGVudC5yZXBsYWNlKC88W14+XSs+L2csICcnKTtcbiAgICAgICAgICAgICAgICBpZiAoY3RudC5sZW5ndGggPD0gMTgwKSB7XG4gICAgICAgICAgICAgICAgICBjdG50ID0gY3RudCArICcuLi4uJztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgY3RudCA9IGN0bnQuc3Vic3RyKDEsIDE4MCkgKyAnLi4uJztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2YXIgZ3JkID0gMDt2YXIgZ3JkdHh0ID0gJyc7XG4gICAgICAgICAgICAgICAgaWYgKHBvc3Qub2VyX2xwX2dyYWRlcyAhPSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICBpZiAocG9zdC5vZXJfbHBfZ3JhZGVzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgZ3JkdHh0ID0gJ0dyYWRlczogJztcbiAgICAgICAgICAgICAgICAgICAgZ3JkID0gcG9zdC5vZXJfbHBfZ3JhZGVzWzBdICsgJy0nICsgcG9zdC5vZXJfbHBfZ3JhZGVzW3Bvc3Qub2VyX2xwX2dyYWRlcy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGdyZHR4dCA9ICdHcmFkZTogJztcbiAgICAgICAgICAgICAgICAgICAgZ3JkID0gcG9zdC5vZXJfbHBfZ3JhZGVzO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBncmR0eHQgPSAnJztcbiAgICAgICAgICAgICAgICAgIGdyZCA9ICcnO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgIHsgJ2NsYXNzJzogJ2xwLWN1ci1ibGstcm93JyB9LFxuICAgICAgICAgICAgICAgICAgd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAnYScsXG4gICAgICAgICAgICAgICAgICAgIHsgaHJlZjogcG9zdC5saW5rLCAnY2xhc3MnOiAnbHAtY3VyLWJsay1sZWZ0JywgdGFyZ2V0OiAnX25ldycgfSxcbiAgICAgICAgICAgICAgICAgICAgd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KCdpbWcnLCB7IHNyYzogcG9zdC5mZWF0dXJlZF9pbWFnZV91cmwsIGFsdDogJycgfSlcbiAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICB7ICdjbGFzcyc6ICdscC1jdXItYmxrLXJpZ2h0JyB9LFxuICAgICAgICAgICAgICAgICAgICB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgeyAnY2xhc3MnOiAndHRsJyB9LFxuICAgICAgICAgICAgICAgICAgICAgIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICdhJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgaHJlZjogcG9zdC5saW5rLCB0YXJnZXQ6ICdfbmV3JyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zdC50aXRsZVxuICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgIHsgJ2NsYXNzJzogJ2xwLWN1ci1wb3N0bWV0YScgfSxcbiAgICAgICAgICAgICAgICAgICAgICB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgICAgICAgICAgICAgICB7ICdjbGFzcyc6ICdscC1jdXItcG9zdG1ldGEtZ3JhZGVzJyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAnc3Ryb25nJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JkdHh0XG4gICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgZ3JkXG4gICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgeyAnY2xhc3MnOiAnZGVzYycgfSxcbiAgICAgICAgICAgICAgICAgICAgICBjdG50XG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICB7ICdjbGFzcyc6ICdscC1jdXItdGFncyB0YWdjbG91ZCcgfSxcbiAgICAgICAgICAgICAgICAgICAgICBwb3N0LnRhZ3N2Mi5tYXAoZnVuY3Rpb24gKHBvc3R0YWdzLCBpbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRnYXIgPSBwb3N0dGFncy5zcGxpdCgnfCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2EnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgaHJlZjogY2diR2xvYmFsWydiYXNlX3VybCddICsgJy90YWcvJyArIHRnYXJbMV0sIGFsdDogJycsICdjbGFzcyc6ICdidXR0b24nLCB0YXJnZXQ6ICdfbmV3JyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRnYXJbMF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICApXG4gICAgICAgIClcbiAgICAgIClcbiAgICApO1xuICB9LFxuXG4gIHNhdmU6IGZ1bmN0aW9uIHNhdmUocHJvcHMpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG59KTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9ibG9jay9ibG9jay5qc1xuLy8gbW9kdWxlIGlkID0gMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///1\n");

/***/ }),
/* 2 */
/*!*******************************!*\
  !*** ./src/block/editor.scss ***!
  \*******************************/
/*! dynamic exports provided */
/***/ (function(module, exports) {

eval("// removed by extract-text-webpack-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9ibG9jay9lZGl0b3Iuc2Nzcz80OWQyIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHJlbW92ZWQgYnkgZXh0cmFjdC10ZXh0LXdlYnBhY2stcGx1Z2luXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvYmxvY2svZWRpdG9yLnNjc3Ncbi8vIG1vZHVsZSBpZCA9IDJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///2\n");

/***/ }),
/* 3 */
/*!******************************!*\
  !*** ./src/block/style.scss ***!
  \******************************/
/*! dynamic exports provided */
/***/ (function(module, exports) {

eval("// removed by extract-text-webpack-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9ibG9jay9zdHlsZS5zY3NzPzgwZjMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gcmVtb3ZlZCBieSBleHRyYWN0LXRleHQtd2VicGFjay1wbHVnaW5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9ibG9jay9zdHlsZS5zY3NzXG4vLyBtb2R1bGUgaWQgPSAzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///3\n");

/***/ })
/******/ ]);